═══════════════════════════════════════════════════════════════
    NEW API ENDPOINTS - QUICK REFERENCE
═══════════════════════════════════════════════════════════════

📋 BASE URL: http://localhost:8000/api/contracts/

All endpoints require: Authorization: Bearer <your-token>

───────────────────────────────────────────────────────────────
1️⃣  ANNOTATED DOCUMENT API
───────────────────────────────────────────────────────────────
GET /<document_id>/annotated/

Returns:
✓ Tokenized clauses with risk metadata
✓ Risk levels (Low/Medium/High) with colors
✓ Explanations for each clause
✓ Rewrite suggestions
✓ Overall risk score and tags

Example:
GET /123/annotated/

───────────────────────────────────────────────────────────────
2️⃣  DASHBOARD AGGREGATES API
───────────────────────────────────────────────────────────────
GET /dashboard/aggregates/

Returns:
✓ Total & analyzed document counts
✓ Average risk score
✓ Risk distribution (Low/Medium/High counts)
✓ Recent 5 documents
✓ 30-day upload trends
✓ Quick action items

Example:
GET /dashboard/aggregates/

───────────────────────────────────────────────────────────────
3️⃣  INLINE EDITOR & REWRITE UPDATE
───────────────────────────────────────────────────────────────

A) Accept Rewrite:
POST /<document_id>/accept-rewrite/
Body: {"clause_id": 0}

Action: Replaces original clause text with suggested rewrite

Example:
POST /123/accept-rewrite/
Body: {"clause_id": 0}

───────────────────────────────────────────────────────────────

B) Download Updated Document:
GET /<document_id>/download/

Returns: Plain text file with updated content

Example:
GET /123/download/

───────────────────────────────────────────────────────────────
COMPLETE ENDPOINT SUMMARY
───────────────────────────────────────────────────────────────

GET  /<id>/annotated/          → Get annotated document with risk data
GET  /dashboard/aggregates/    → Get dashboard statistics & trends
POST /<id>/accept-rewrite/     → Accept rewrite for specific clause
GET  /<id>/download/           → Download updated document text

───────────────────────────────────────────────────────────────
RISK COLORS
───────────────────────────────────────────────────────────────
Low:    #22c55e (green)
Medium: #f59e0b (orange)
High:   #ef4444 (red)

───────────────────────────────────────────────────────────────
NOTES
───────────────────────────────────────────────────────────────
• All endpoints require authentication
• Users can only access their own documents
• Documents must be analyzed before using annotated endpoint
• Accept-rewrite modifies the database text_content field
• Original PDF files remain unchanged
• Download provides text in .txt format

───────────────────────────────────────────────────────────────

See NEW_ENDPOINTS_DOCUMENTATION.md for detailed API specs.
